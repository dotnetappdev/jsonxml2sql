/* Ribbon Toolbar Styles */
.toolbar.ribbon-bar {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	z-index: 100;
	display: flex;
	align-items: flex-end; /* align to bottom inside the bar */
	justify-content: flex-start;
	background: #1e2a4a;
	color: #fff;
	padding: 2px 16px 8px 16px; /* keep buttons inside, aligned to bottom */
	box-shadow: 0 2px 8px rgba(0,0,0,0.12);
	flex-wrap: nowrap; /* force single line */
	overflow-x: auto; /* allow horizontal scroll on narrow screens */
}
/* Dark mode: toolbar honors theme */
.theme-dark .toolbar.ribbon-bar { background: var(--panel); color: var(--text); }
.theme-dark .brand-title { color: var(--text); }
.theme-dark .brand-desc { color: var(--muted); }
/* Theme switch (toolbar) */
.theme-switch {
	width: 44px;
	height: 24px;
	background: #23325a;
	border-radius: 999px;
	position: relative;
	cursor: pointer;
	transition: background 0.2s;
	display: inline-block;
}
.theme-switch::after {
	content: '';
	position: absolute;
	top: 3px;
	left: 3px;
	width: 18px;
	height: 18px;
	background: #e3f0ff;
	border-radius: 50%;
	transition: transform 0.2s;
}
.theme-switch[data-on="true"] {
	background: #2a3a6a;
}
.theme-switch[data-on="true"]::after {
	transform: translateX(20px);
	background: #181f2f;
}
body.dark-mode {
	background: #181f2f;
	color: #e3f0ff;
}
.toolbar.ribbon-bar.dark {
	background: #181f2f;
	color: #e3f0ff;
}
.brand-title.dark, .brand-desc.dark, .theme-toggle-label.dark {
	color: #e3f0ff;
}
@media (max-width: 700px) {
	.toolbar.ribbon-bar { flex-direction: row; align-items: flex-end; padding: 6px 12px 10px 12px; }
	.menu { justify-content: flex-start; margin-right: 0; }
}
:root {
    /* default values will be overridden by theme classes */
    --bg: #0f172a;
    --panel: #111827;
	--paper: var(--panel);
    --text: #e5e7eb;
    --muted: #94a3b8;
    --border: #1f2937;
    --primary: #3b82f6;
    --danger: #ef4444;
    --success: #22c55e;
}

/* Light mode = existing colours */
.theme-light {
    --bg: #0f172a;
    --panel: #111827;
    --text: #e5e7eb;
    --muted: #94a3b8;
    --border: #1f2937;
    --primary: #3b82f6;
    --danger: #ef4444;
    --success: #22c55e;
    --thead: #0f1a2e;
    --row-alt: #0e1627;
}

/* Dark mode = industry standard dark palette with slightly higher contrast */
.theme-dark {
    /* Align with Monaco vs-dark */
    --bg: #1e1e1e;
    --panel: #1e1e1e;
    --text: #d4d4d4;
    --muted: #9aa7b8;
    --border: #2d2d2d;
    --primary: #569cd6;
    --danger: #f44747;
    --success: #89d185;
    --thead: #252526;
    --row-alt: #1b1b1b;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	background: var(--bg);
	color: var(--text);
}

.app-header { padding: 24px 20px 8px 20px; }
.app-header h1 { margin: 0 0 6px 0; font-size: 24px; }
.app-header p { margin: 0; color: var(--muted); }

.theme-toggle { display: inline-flex; align-items: center; gap: 8px; margin-top: 6px; }
.switch { position: relative; width: 46px; height: 24px; background: var(--border); border-radius: 999px; cursor: pointer; }
.switch::after { content: ''; position: absolute; top: 3px; left: 3px; width: 18px; height: 18px; background: var(--text); border-radius: 50%; transition: transform 0.2s ease; }
.switch[data-on="true"] { background: #14532d; }
.switch[data-on="true"]::after { transform: translateX(22px); }

.app-main { padding: 12px 20px 24px 20px; }

.toolbar { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 10px; margin-bottom: 12px; }
.toolbar-left, .toolbar-right { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }

/* Align SQL toolbar group with left edge of SQL pad (right column of main grid) */
#sqlToolbarGroup {
	/* app-main has 20px left padding; grid has 16px gap; left column is 1/(1+1.3)=0.43478 of inner width; toolbar has 1.5rem left padding */
	margin-left: calc((100vw - 40px) * 0.4347826 + 16px + 20px - 1.5rem);
}

.btn {
	padding: 8px 12px;
	border: 1px solid #3b82f6;
	background: #1e3a8a;
	color: #dbeafe;
	border-radius: 8px;
	cursor: pointer;
	transition: background 0.18s, color 0.18s;
}
.btn:focus {
	outline: 2px solid #3b82f6;
	outline-offset: 2px;
}
.btn:hover, .btn:active {
	background: #2563eb;
	color: #fff;
}
.btn.primary, .btn.danger, .btn.success {
	border-color: #3b82f6;
	background: #1e3a8a;
	color: #dbeafe;
}

.muted { color: var(--muted); }
.status-row { padding: 6px 2px; }
/* eliminate extra 5px gap under brand-desc area */
.branding + .menu { margin-top: 0; }

/* Responsive Toolbar Styles */
.toolbar { display: flex; align-items: center; justify-content: space-between; background: #222; padding: 0; flex-wrap: wrap; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }

.branding {
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	min-width: 180px;
}
.brand-title {
	font-size: 1.5rem;
	font-weight: bold;
	color: #fff;
	letter-spacing: 1px;
}
.brand-desc {
	font-size: 0.95rem;
	color: #bbb;
}

.menu {
	display: flex;
	gap: 0.5rem;
	flex-wrap: wrap;
}
.menu-btn {
	background: #333;
	color: #fff;
	border: none;
	padding: 0.5rem 1.2rem;
	border-radius: 4px;
	font-size: 1rem;
	cursor: pointer;
	transition: background 0.2s, box-shadow 0.2s;
	box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}
.menu-btn:hover, .menu-btn:focus {
	background: #444;
	outline: none;
}
/* Dark mode: menu buttons honor theme variables */
.theme-dark .menu-btn {
	background: var(--panel);
	color: var(--text);
}
.theme-dark .menu-btn:hover, .theme-dark .menu-btn:focus {
	background: #2a2a2a;
}

@media (max-width: 700px) {
	.toolbar {
		flex-direction: column;
		align-items: stretch;
		padding: 0.5rem;
	}
	.branding {
		margin-bottom: 0.5rem;
	}
	.menu {
		justify-content: flex-start;
	}
	#sqlToolbarGroup { margin-left: 0; }
}
textarea {
	width: 100%;
	min-height: var(--editor-height, 320px);
	resize: vertical;
	padding: 10px;
	background: var(--panel);
	color: var(--text);
	border: 1px solid var(--border);
	border-radius: 10px;
	font-size: 14px;
	line-height: 1.45;
}

/* Radios and actions inline, allow wrapping */
.left .pane-header { gap: 6px; display: flex; flex-direction: row; align-items: center; flex-wrap: nowrap; white-space: nowrap; overflow-x: auto; overflow-y: visible; }
.left .pane-header .left-actions { display: inline-flex; gap: 8px; flex-wrap: wrap; margin-left: 0; }
.left .pane-header .left-actions .btn { padding: 6px 10px; border-radius: 8px; }

/* Keep Input controls on one line left-aligned when space allows */
.left .pane-header > * { margin-bottom: 0; }
.left .pane-header { row-gap: 0; }

.layout {
	display: grid;
	grid-template-columns: 1fr 1.3fr;
	gap: 16px;
}
.sql-actions { display: flex; gap: 8px; align-items: center; margin-bottom: 8px; flex-wrap: wrap; }
.sql-actions .btn { padding: 6px 10px; border-radius: 8px; }
/* Light mode keeps current colors */
.btn.primary { background: #1e3a8a; color: #dbeafe; border: 1px solid #3b82f6; }
/* Dark mode: use themed palette */
.theme-dark .btn { background: var(--panel); color: var(--text); border-color: var(--border); }
.theme-dark .btn.primary { background: #0f1a2e; color: #dbeafe; border-color: var(--primary); }
.theme-dark .btn.danger { background: #2a1616; color: #fee2e2; border-color: #7f1d1d; }
.theme-dark .btn.success { background: #0b1d12; color: #dcfce7; border-color: #14532d; }

/* In dark mode, make SQL action buttons (Run, Generate Insert, Clear Storage, Generate SQL)
   match the Sample JSON button colors (neutral panel/text) */
.theme-dark .sql-actions .btn,
.theme-dark .sql-actions .btn.primary,
.theme-dark .sql-actions .btn.danger,
.theme-dark .sql-actions .btn.success {
	background: var(--panel);
	color: var(--text);
	border-color: var(--border);
}
.theme-dark .sql-actions .btn:hover,
.theme-dark .sql-actions .btn:active,
.theme-dark .sql-actions .btn:focus {
	background: #2a2a2a;
	color: var(--text);
}

/* Dark mode: make Designer's Generate SQL button match Sample JSON styling */
.theme-dark #designerGenerateSql.btn,
.theme-dark #designerGenerateSql.btn.primary {
	background: var(--panel);
	color: var(--text);
	border-color: var(--border);
}
.theme-dark #designerGenerateSql.btn:hover,
.theme-dark #designerGenerateSql.btn:active,
.theme-dark #designerGenerateSql.btn:focus {
	background: #2a2a2a;
	color: var(--text);
}

/* Dark mode: unify all buttons in the Designer tab with neutral styling (match editor group) */
.theme-dark #panel-designer .btn,
.theme-dark #panel-designer .btn.primary,
.theme-dark #panel-designer .btn.danger,
.theme-dark #panel-designer .btn.success {
	background: var(--panel);
	color: var(--text);
	border-color: var(--border);
}
.theme-dark #panel-designer .btn:hover,
.theme-dark #panel-designer .btn:active,
.theme-dark #panel-designer .btn:focus {
	background: #2a2a2a;
	color: var(--text);
}

.left .pane-header, .right .pane-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 6px;
}

.left-controls, .right-controls { display: flex; gap: 8px; align-items: center; }
.source-chooser { display: inline-flex; gap: 8px; align-items: center; margin-left: 0; color: var(--muted); }
.source-chooser label { display: inline-flex; gap: 6px; align-items: center; cursor: pointer; }
.tree { border: 1px solid var(--border); border-radius: 10px; padding: 10px; background: var(--panel); max-height: 520px; overflow: auto; }
.tree ul { list-style: none; margin: 0; padding-left: 16px; }
.tree li { margin: 2px 0; }
.tree .key { color: var(--primary); }
.tree .type { color: var(--muted); margin-left: 6px; }

/* Collapsible tree view */
.tree li { position: relative; }
.tree .caret { cursor: pointer; display: inline-block; width: 1em; -webkit-user-select: none; user-select: none; color: var(--muted); }
.tree li.has-children > .caret::before { content: '\25BE'; /* â–¾ */ display: inline-block; transition: transform 0.12s ease; }
.tree li.collapsed > .caret::before { transform: rotate(-90deg); }
.tree li.collapsed > ul { display: none; }
.tree .caret:focus { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 4px; }

.tabs { display: flex; gap: 8px; margin-bottom: 8px; }
.tab {
	background: var(--panel);
	border: 1px solid var(--border);
	color: var(--text);
	padding: 8px 12px;
	border-radius: 8px;
	cursor: pointer;
}
.tab.active { outline: 2px solid var(--primary); }

/* Light mode: make Editor/Designer tabs match blue button styling */
.theme-light #editorTabs .tab {
	background: #1e3a8a;
	color: #dbeafe;
	border-color: #3b82f6;
}
.theme-light #editorTabs .tab:hover,
.theme-light #editorTabs .tab:active,
.theme-light #editorTabs .tab:focus {
	background: #2563eb;
	color: #fff;
}
/* Apply same light-mode styling to Results tabs */
.theme-light #resultsTabs .tab {
	background: #1e3a8a;
	color: #dbeafe;
	border-color: #3b82f6;
}
.theme-light #resultsTabs .tab:hover,
.theme-light #resultsTabs .tab:active,
.theme-light #resultsTabs .tab:focus {
	background: #2563eb;
	color: #fff;
}

.tab-panel { display: none; }
.tab-panel.active { display: block; }

.code {
	background: var(--panel);
	border: 1px solid var(--border);
	border-radius: 10px;
	padding: 12px;
	max-height: 320px;
	min-height: 160px;
	overflow: auto;
}

.table-wrap { margin-top: 8px; overflow: auto; max-height: 520px; border: 1px solid var(--border); border-radius: 10px; }

/* Multi-table stack separators */
.multi-table .table-wrap { margin-top: 8px; }
.multi-table h3 {
	margin: 14px 0 6px 2px;
	padding: 8px 10px;
	font-size: 1.05rem;
	font-weight: 700;
	color: var(--text);
	border-top: 2px solid var(--border);
	border-left: 3px solid var(--primary);
	background: linear-gradient(to right, rgba(86,156,214,0.12), rgba(86,156,214,0.05));
	border-top-left-radius: 8px;
	border-bottom-right-radius: 8px;
	display: flex; align-items: center; gap: 8px;
}
.multi-table h3 .badge {
	display: inline-block;
	padding: 2px 8px;
	font-size: 0.85rem;
	border: 1px solid var(--border);
	border-radius: 999px;
	background: var(--panel);
	color: var(--muted);
}
.multi-table .separator { height: 6px; }

/* Results header right-side controls */
.results-controls { display: flex; align-items: center; gap: 8px; margin-left: auto; }
#resultsFilter { background: var(--panel); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 6px 8px; }
.theme-light #resultsFilter { background: #1e3a8a; color: #dbeafe; border-color: #3b82f6; }
.theme-light #resultsFilter:hover,
.theme-light #resultsFilter:focus { background: #2563eb; color: #fff; outline: 2px solid #3b82f6; outline-offset: 2px; }
.theme-dark #resultsFilter { background: var(--panel); color: var(--text); border-color: var(--border); }
.theme-dark #resultsFilter:hover,
.theme-dark #resultsFilter:focus { background: #2a2a2a; color: var(--text); }
.results-controls .rc-label, .rc-label { margin-right: 6px; }
table {
	width: 100%;
	border-collapse: collapse;
	background: var(--panel);
	color: var(--text);
}
thead th {
	position: sticky; top: 0;
	background: var(--thead);
	border-bottom: 1px solid var(--border);
	text-align: left;
	padding: 8px;
	font-weight: 600;
}
tbody td { border-top: 1px solid var(--border); padding: 8px; vertical-align: top; }
tbody tr:nth-child(odd) { background: var(--row-alt); }

.monaco-wrap {
	border: 1px solid var(--border);
	border-radius: 10px;
	min-height: 160px;
	height: var(--editor-height, 320px);
	overflow: hidden;
	background: var(--panel);
}

/* Horizontal splitter bar */
.h-splitter {
	grid-column: 1 / -1;
	height: 10px;
	background: linear-gradient(to bottom, rgba(255,255,255,0.05), rgba(0,0,0,0.1));
	border: 1px solid var(--border);
	border-radius: 8px;
	cursor: row-resize;
	margin: 2px 0 8px 0;
}

/* (vertical splitter removed) */

/* Results row spans both columns */
.results { grid-column: 1 / -1; }

@media (max-width: 1000px) {
	.layout { grid-template-columns: 1fr; }
	.toolbar { gap: 8px; }
	#sqlToolbarGroup { margin-left: 0; }
}

/* Offset for fixed ribbon toolbar: provide a safe default; JS will fine-tune via adjustContentOffset() */
.app-main { padding-top: 84px; }

/* Restore bottom spacing above footer */
.app-main { margin-bottom: 100px; }

/* Left actions beneath the input header */
.left-actions { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 6px; justify-content: flex-start; }
.left-actions .btn { padding: 6px 10px; border-radius: 8px; }

/* Ensure toolbar menu buttons have consistent spacing */
.toolbar.ribbon-bar .menu { gap: 0.4rem; }

/* bottom padding integrated above */

/* Footer */
.app-footer { padding: 12px 20px; color: var(--muted); display: flex; flex-wrap: wrap; align-items: center; gap: 10px; border-top: 1px solid var(--border); }
.app-footer .footer-meta { margin-left: auto; display: inline-flex; align-items: center; gap: 10px; }
.app-footer .gh-link { color: var(--muted); display: inline-flex; align-items: center; }
.app-footer .gh-link:hover { color: var(--text); }

/* Modal */
.modal.hidden { display: none; }
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal-dialog { width: min(520px, 92vw); background: var(--panel); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.35); overflow: hidden; }
.modal-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 12px 14px; border-bottom: 1px solid var(--border); background: linear-gradient(to right, rgba(86,156,214,0.15), transparent); }
.modal-title { margin: 0; font-size: 1.05rem; }
.modal-close { background: transparent; border: none; color: var(--text); font-size: 22px; cursor: pointer; line-height: 1; }
.modal-body { padding: 14px; }
.modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 10px 14px; border-top: 1px solid var(--border); }

/* Designer */
.designer { display: flex; flex-direction: column; gap: 10px; padding: 8px 0; }
.designer-toolbar { display: flex; align-items: center; gap: 8px; }
.designer-canvas { position: relative; min-height: 320px; border: 1px solid var(--border); border-radius: 8px; background: var(--paper); overflow: hidden; }
.designer-svg { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
.designer-tables { position: absolute; inset: 0; padding: 10px; }
.designer-table { position: absolute; width: 280px; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); box-shadow: 0 2px 6px rgba(0,0,0,0.08); }
.designer-table .dt-head { font-weight: 600; padding: 8px 10px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; background: var(--accent, #2563eb); color: #fff; cursor: move; border-top-left-radius: 6px; border-top-right-radius: 6px; }
/* Dark mode: ensure designer card surfaces and text use theme colors */
.theme-dark .designer-table { background: var(--bg); color: var(--text); }
.theme-dark .designer-table .dt-body { background: var(--panel); }
.designer-table .dt-head .dt-title { font-size: 13.5px; }
.designer-table .dt-body { max-height: 260px; overflow: auto; background: var(--bg); }
.designer-table .dt-fields { list-style: none; margin: 0; padding: 4px 0; }
.designer-table .dt-fields li { display: flex; align-items: center; gap: 10px; padding: 6px 10px; font-size: 13.5px; border-bottom: 1px dashed transparent; -webkit-user-select: none; user-select: none; cursor: default; }
.designer-table .dt-fields li:hover { background: var(--paper); border-bottom-color: var(--border); }
.designer-table .dt-fields li.dragging { opacity: 0.7; }
.dt-handle { width: 14px; height: 18px; cursor: grab; flex: 0 0 auto; opacity: 0.9; display: inline-block; position: relative; color: var(--muted); }
.dt-handle::before { content: ''; position: absolute; inset: 3px 2px; background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 4px 4px; background-position: 0 0; color: var(--muted); opacity: 0.8; }
.dt-handle:active { cursor: grabbing; }
.designer-field-check { -webkit-transform: scale(1.35); transform: scale(1.35); -webkit-transform-origin: center; transform-origin: center; accent-color: var(--accent, #2b6cf6); cursor: pointer; }
/* Blueprint-like ports on both sides */
.designer-field-pin { width: 18px; height: 18px; border-radius: 50%; border: 2px solid var(--accent, #2b6cf6); background: var(--panel); flex: 0 0 auto; cursor: grab; box-shadow: 0 0 0 2px var(--bg) inset, 0 0 0 1px rgba(0,0,0,0.2); transition: transform 0.06s ease, box-shadow 0.12s ease; }
.designer-field-pin:hover { box-shadow: 0 0 0 2px var(--bg) inset, 0 0 6px rgba(43,108,246,0.6); }
.designer-field-pin:active { transform: scale(0.95); }
.designer-field-pin.pin-left { margin-left: 6px; }
.designer-field-pin.pin-right { margin-left: auto; margin-right: 6px; }
.designer-field { flex: 1 1 auto; font-size: 14px; line-height: 1.7; cursor: default; color: var(--text); }
.theme-dark .designer-field { color: var(--text); }
.designer-field { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.designer-field[data-type="number"] { color: var(--text); }
.designer-link-preview { stroke: var(--accent, #2b6cf6); stroke-width: 3; fill: none; opacity: 0.5; }
/* Use these styles for SVG path links (curved) */
.designer-link-line { stroke: var(--accent, #2b6cf6); stroke-width: 3; fill: none; filter: drop-shadow(0 0 1px rgba(43,108,246,0.8)); }
.designer-link-glow { stroke: rgba(43,108,246,0.35); stroke-width: 7; fill: none; stroke-linecap: round; }
.designer-link-end { fill: #fff; stroke: var(--accent, #3b82f6); stroke-width: 2; }
.tabs#editorTabs { margin-top: 10px; }
.tabs#editorTabs .tab { padding: 6px 10px; }
.tab-panel#panel-designer { padding-top: 6px; }
.designer-links { border: 1px dashed var(--border); border-radius: 6px; padding: 8px; min-height: 38px; }
.designer-link-item { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 6px 8px; border: 1px solid var(--border); border-radius: 6px; margin: 6px 0; background: var(--paper); }
.designer-empty { display: none; }
.designer-empty.show { display: block; }

/* Output panel */
.designer-output { display: none; border: 1px solid var(--border); border-radius: 8px; padding: 8px; background: var(--panel); margin-bottom: 8px; }
.designer-output.show { display: block; }
.designer-output .output-toolbar { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.designer-output .output-toolbar .spacer { flex: 1 1 auto; }
.designer-output .output-body { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; align-items: start; }
.output-list { list-style: none; margin: 0; padding: 0; border: 1px dashed var(--border); border-radius: 8px; min-height: 120px; background: var(--bg); }
.output-list li { display: flex; align-items: center; gap: 8px; padding: 6px 8px; border-bottom: 1px solid var(--border); }
.output-list li:last-child { border-bottom: none; }
.output-list li { cursor: grab; }
.output-list li:active { cursor: grabbing; }
.output-list li:hover { background: rgba(86,156,214,0.12); }
.output-handle { width: 14px; height: 18px; cursor: grab; position: relative; opacity: 0.8; }
.output-handle::before { content: ''; position: absolute; inset: 3px 2px; background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 4px 4px; color: var(--muted); opacity: 0.8; }
.output-remove { margin-left: auto; }

/* Output card: make full row draggable and improve hover visibility */
.designer-table[data-path="__output__"] .dt-fields li { cursor: grab; }
.designer-table[data-path="__output__"] .dt-fields li:active { cursor: grabbing; }
.designer-table[data-path="__output__"] .dt-fields li:hover { background: rgba(86,156,214,0.12); border-bottom-color: var(--border); }
.theme-dark .designer-table[data-path="__output__"] .dt-fields li:hover { background: rgba(86,156,214,0.14); }

/* Output columns manager & SQL preview above designer */
.designer-sql-preview { margin-bottom: 8px; }
.designer-sql-preview .monaco-wrap { height: 120px; }
.output-columns { border: 1px solid var(--border); border-radius: 8px; padding: 8px; margin-bottom: 10px; background: var(--panel); }
.output-columns.hidden, .designer-sql-preview.hidden { display: none; }
.oc-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 6px; }
.oc-actions { display: inline-flex; gap: 6px; align-items: center; flex-wrap: wrap; }
.oc-list { list-style: none; margin: 0; padding: 0; border: 1px dashed var(--border); border-radius: 6px; }
.oc-list li { display: flex; align-items: center; gap: 8px; padding: 6px 8px; border-bottom: 1px dashed var(--border); }
.oc-list li:last-child { border-bottom: none; }
.oc-handle { width: 14px; height: 18px; cursor: grab; position: relative; opacity: 0.8; }
.oc-handle::before { content: ''; position: absolute; inset: 3px 2px; background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 4px 4px; background-position: 0 0; color: var(--muted); opacity: 0.8; }
.oc-alias { color: var(--muted); font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 12px; }



